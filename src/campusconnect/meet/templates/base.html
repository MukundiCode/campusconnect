{% load socialaccount %}
{% load static %}
<html>
  <head>

    <!-- CSS only -->
    <meta charset="UTF-8">
    <!--<meta name="viewport" content="width=device-width, initial-scale=1.0", user-scalable="no"/>--> <!--Enable zooming-->
    <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, height=device-height" /> <!-- Disable zooming-->
    <title>{% block title %}{% endblock %}</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto">
    <link rel="shortcut icon" href="https://pbs.twimg.com/media/EwSLgcxXAAAcEy6?format=png&name=small" type="image/x-icon">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" type="text/css" href="{% static "main.css" %}">

    {% block head %} {% endblock %}
  </head>

  <body>
    <!-- <div class = "location">University of Cape Town</div> -->

    <div class="topNav">
      <div class="left-col">
        <a href={%url 'landingPage'%} class="logo">taskRadar</a>


        <div class="search-div">
          <form method='GET' action = {%url 'search'%}>
            <!--{{form.as_table}}-->
            <input list='listings' id = 'q' name = 'q' class = "search"  type="text" placeholder="Search..">

              <datalist id='listings'>
                {% for listing in listings %}
                  <option>
                    <select value="{{ listing.listingName }}">{{ listing.listingName }}</select>
                  </option>
                {% endfor %}
              </datalist>
          </form>
        </div>
      </div>


      <script type = "text/javascript">
        document.getElementById("q").value = {{query}}
      </script>


      <div class="right-col">
        {% if user.is_authenticated %}
          {% if user.is_seller == True %}
            <a class='navLink' href = "{%url 'createListing'%}">Make a listing </a>
          {% else %}
            <a class='navLink' href = "{%url 'registerSeller'%}">Make a listing </a>
          {%endif%}
        {%endif%}

        <!--<a class='navLink'>Bookmarks   </a>-->
        <button class="bookmark icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-bookmarks" viewBox="0 0 16 16" src="{% static 'icons/bookmarks.svg' %}">
            <path fill-rule="evenodd" d="M2 4a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v11.5a.5.5 0 0 1-.777.416L7 13.101l-4.223 2.815A.5.5 0 0 1 2 15.5V4zm2-1a1 1 0 0 0-1 1v10.566l3.723-2.482a.5.5 0 0 1 .554 0L11 14.566V4a1 1 0 0 0-1-1H4z"/>
            <path fill-rule="evenodd" d="M4.268 1H12a1 1 0 0 1 1 1v11.768l.223.148A.5.5 0 0 0 14 13.5V2a2 2 0 0 0-2-2H6a2 2 0 0 0-1.732 1z"/>
          </svg>
        </button>

        <!--<a class='navLink'>Help   </a>-->
        <button class="help icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-question-circle" viewBox="0 0 16 16" src="{% static 'icons/question-circle' %}">
            <path fill-rule="evenodd" d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
            <path d="M5.255 5.786a.237.237 0 0 0 .241.247h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286zm1.557 5.763c0 .533.425.927 1.01.927.609 0 1.028-.394 1.028-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94z"/>
          </svg>
        </button>

        {% if user.is_authenticated %}
          <form action = "{% url 'accountManager' %}" method = 'GET'>
            <!--<button class='navLink'>Profile</button>-->
            <button class = "profile icon">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person" viewBox="0 0 16 16" src="{% static 'icons/person.svg' %}">
                <path fill-rule="evenodd" d="M10 5a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm6 5c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z"/>
              </svg>
            </button>
          </form>
        {%else%}

          <button class='navLink' onclick="document.getElementById('id01').style.display='block'">Login/Sign Up</button>

        {%endif%}


        
      </div>

      <nav class="navbar">
        <div class="hamburger-menu">
          <div class="ham-line line-1"></div>
          <div class="ham-line line-2"></div>
          <div class="ham-line line-3"></div>
        </div>

        <ul class="nav-list">
          <li class="nav-item">
            <a class='nav-link' href = "{%url 'allCategories'%}">All Categories</a>
          </li>
          {% if user.is_authenticated %}
            {% if user.is_seller == True %}
              <li class="nav-item">
                <a class='nav-link' href = "{%url 'createListing'%}">Make a listing </a>
              </li>
            {% else %}
              <li class="nav-item">
                <a class='nav-link' href = "{%url 'registerSeller'%}">Make a listing </a>
              </li>
            {%endif%}
          {%else%}
            <li class="nav-item">
              <a class='nav-link'href="{% url 'login' %}">Make a listing </a>
              <!--<a class='nav-link' onclick="document.getElementById('id01').style.display='block'">Make a listing </a>-->
            </li>
          {%endif%}

          {% if user.is_authenticated %}
            <li class="nav-item">
              <a class="nav-link" href="{% url 'accountManager' %}" class="nav-link">Profile</a>
            </li>
          {% else %}
            <li class="nav-item">
              <!--<a href="#" class="nav-link" onclick="document.getElementById('id01').style.display='block'">Login/Sign Up</a>-->
              <a class="nav-link" href="{% url 'login' %}">Login/Sign Up</a>
            </li>
          {% endif %}
          <li class="nav-item">
            <a href="{% url 'bookmarks' %}" class="nav-link">Bookmarks</a>
          </li>
          <li class="nav-item">
            <a href="#" class="nav-link">Help</a>
          </li>
        </ul>
      </nav>

      <script src="{% static 'js/script.js'%}" type="text/javascript"></script>
    </div>

    {% block content %}
    {% endblock %}
  </body>
</html>
